univention-s4-connector (7.0.23-1) unstable; urgency=low

  * validate cPickle in listener module (Bug #29625)

 -- Arvid Requate <requate@univention.de>  Mon, 17 Dec 2012 17:20:11 +0100

univention-s4-connector (7.0.22-9) unstable; urgency=low

  * univention-ad-takeover (Bug #29751):
    - restart samba4 at the beginning of phase III

 -- Arvid Requate <requate@univention.de>  Tue, 11 Dec 2012 19:58:34 +0100

univention-s4-connector (7.0.22-8) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Fix ptr_record creation for non-class-C networks
    - Fix AD-Server object cleanup (use python, BL search, more logging)
    - Fix progress indicator frequency calculation
    - Fix typos

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 16:46:37 +0100

univention-s4-connector (7.0.22-7) unstable; urgency=low

  * fix check_ad_object_numbers (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 12:58:53 +0100

univention-s4-connector (7.0.22-6) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Output only dots during initialization of S4 Connector
    - Reduce progress indicator frequency to 0.1 Hz
    - Change log file name to /var/log/univention/ad-takeover.log
    - Change backup directory name to /var/univention-backup/ad-takeover

 -- Arvid Requate <requate@univention.de>  Thu, 15 Nov 2012 12:26:08 +0100

univention-s4-connector (7.0.22-5) unstable; urgency=low

  * univention-ad-takeover/wait_for_s4_connector_replication (Bug #28390):
    - Output dots during initialization of S4 Connector
    - Reduce activity frequency to 0.2 Hz

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 16:07:48 +0100

univention-s4-connector (7.0.22-4) unstable; urgency=low

  * univention-ad-takeover (Bug #28390): fix modified path of samba-tool

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 14:59:51 +0100

univention-s4-connector (7.0.22-3) unstable; urgency=low

  * Adjust check_ad_object_numbers to support v2 licenses (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 12:44:31 +0100

univention-s4-connector (7.0.22-2) unstable; urgency=low

  * use paged results control in count_ad_object_numbers (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 14 Nov 2012 11:49:30 +0100

univention-s4-connector (7.0.22-1) unstable; urgency=low

  * Let wait_for_s4_connector_replication monitor the USN (Bug #28390)
  * minor coding style cleanup

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 16:05:55 +0100

univention-s4-connector (7.0.21-1) unstable; urgency=low

  * Add UCR variable description for group table (Bug #28390).

 -- Arvid Requate <requate@univention.de>  Tue, 13 Nov 2012 11:00:20 +0100

univention-s4-connector (7.0.20-2) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - make script ask to continue with phase III
    - print robocopy commandline
    - disable password expiry for DCs
    - don't override the min/max password age and history length

 -- Arvid Requate <requate@univention.de>  Mon, 12 Nov 2012 14:12:44 +0100

univention-s4-connector (7.0.19-2) unstable; urgency=low

  * Call _ignore_object and not __ignore_object (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 08:14:51 +0100

univention-s4-connector (7.0.19-1) unstable; urgency=low

  * Fixed the membership ignore object handling on the UCS side
    (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 08:00:57 +0100

univention-s4-connector (7.0.18-1) unstable; urgency=low

  * Check if the membership object is to be ignored (Bug #28845)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 08 Nov 2012 07:26:20 +0100

univention-s4-connector (7.0.17-40) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - workaround for agorum: don't use ethX:0 (Bug #29089)

 -- Arvid Requate <requate@univention.de>  Wed, 07 Nov 2012 12:05:35 +0100

univention-s4-connector (7.0.17-39) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - remove krb5Keytab attribute from dns-SPN account secrets.ldb record,
      krb5Keytab takes precendence over privateKeytab

 -- Arvid Requate <requate@univention.de>  Wed, 07 Nov 2012 10:15:02 +0100

univention-s4-connector (7.0.17-38) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - abort if given AD server IP points to local system
    - abort if samba backup dir exists (both for Bug #29066)
    - cleanup after failed join

 -- Arvid Requate <requate@univention.de>  Tue, 06 Nov 2012 16:02:09 +0100

univention-s4-connector (7.0.17-37) unstable; urgency=low

  * Improved warning message in case the NTP connection fails,
    require interactive confirmation to continue in this case (Bug #29064)

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 22:29:45 +0100

univention-s4-connector (7.0.17-36) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - work around the unfortunate case where the random password for the
      dns SPN starts with a dash

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 17:38:32 +0100

univention-s4-connector (7.0.17-35) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - output script arguments and version (Bug #29044)
    - Try fsmo seize up to three times per role (Bug #29046)
    - Allow 600 seconds for initial S4 Connector run (Bug #29041)
    - Postpone dns-SPN account creation to phase III (Bug #29043)

 -- Arvid Requate <requate@univention.de>  Mon, 05 Nov 2012 15:36:10 +0100

univention-s4-connector (7.0.17-34) unstable; urgency=low

  * Initialize the UDM modules to ensure the first created object uses
    the extended attributes (Bug #28981)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 31 Oct 2012 10:40:13 +0100

univention-s4-connector (7.0.17-33) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Check for existing ptr record before creating a new one

 -- Arvid Requate <requate@univention.de>  Tue, 30 Oct 2012 12:02:44 +0100

univention-s4-connector (7.0.17-32) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - check for IPv6
    - nslookup AD server fqdn only if it was passed on the command line

 -- Arvid Requate <requate@univention.de>  Mon, 29 Oct 2012 18:39:17 +0100

univention-s4-connector (7.0.17-31) unstable; urgency=low

  * use standard UDM unmapSubnet function to unmap reverse zone
    names to UDM zone names, adds support for IPv6 zones (Bug #28889)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Oct 2012 17:33:02 +0100

univention-s4-connector (7.0.17-30) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - run set_sysvol_ntacl.py on the sysvol directory (Bug #28914)

 -- Arvid Requate <requate@univention.de>  Fri, 26 Oct 2012 08:42:53 +0200

univention-s4-connector (7.0.17-29) unstable; urgency=low

  * Ignore PrimaryKerberosBlob pacakges in old S4 supplementalCredentials
    if the ndr_unpack fails. (Bug #28932)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 20:09:39 +0200

univention-s4-connector (7.0.17-28) unstable; urgency=low

  * fix recreation of Zarafa and Squid Kerberos service accounts
    (Bug #28916)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 18:27:32 +0200

univention-s4-connector (7.0.17-27) unstable; urgency=low

  * remove user mapping table (Bug #28390)
  * univention-ad-takeover: add Guest/Gast to S4 Connector ignore list

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 17:51:18 +0200

univention-s4-connector (7.0.17-26) unstable; urgency=low

  * Add reverse DNS record for AD server IP (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 17:39:55 +0200

univention-s4-connector (7.0.17-25) unstable; urgency=low

  * remove and recreate Zarafa and Squid Kerberos service accounts
    (Bug #28916)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 16:18:58 +0200

univention-s4-connector (7.0.17-24) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - fix logging in shell call function
    - ignore AD server object

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:53:42 +0200

univention-s4-connector (7.0.17-23) unstable; urgency=low

  * avoid unnecessary warning in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:40:31 +0200

univention-s4-connector (7.0.17-22) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - log ucr set/unset messages to log.debug (Bug #28917)
    - simplify/unify the shell call code
    - more log messages

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 14:10:38 +0200

univention-s4-connector (7.0.17-21) unstable; urgency=low

  * also handle keytype -140L in older_keys (Bug #28907)
  * improve log messages for unknown keytypes in password.py

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 12:27:30 +0200

univention-s4-connector (7.0.17-20) unstable; urgency=low

  * merge group and user table patches from Bug #28521 (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 09:41:30 +0200

univention-s4-connector (7.0.17-19) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - map well known user accounts like well known group accounts
      instead of renaming them (required for Bug #28822)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 09:38:04 +0200

univention-s4-connector (7.0.17-18) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - improved counting of AD accounts:
      abstract from locale sepcific names for well known user objects
    - whitespace cleanup

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 08:57:00 +0200

univention-s4-connector (7.0.17-17) unstable; urgency=low

  * improved handling of keytype -140L in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Oct 2012 08:42:50 +0200

univention-s4-connector (7.0.17-16) unstable; urgency=low

  * add license exceed check to univention-ad-takeover (Bug #28822)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 20:38:28 +0200

univention-s4-connector (7.0.17-15) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - pass AD server IP from phaseI to phaseIII via UCR (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 19:18:40 +0200

univention-s4-connector (7.0.17-14) unstable; urgency=low

  * handle Windows 2008 AD keytype -140L in password.py (Bug #28907)

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 18:45:25 +0200

univention-s4-connector (7.0.17-13) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - improved detection of remote domain name

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 14:01:41 +0200

univention-s4-connector (7.0.17-12) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - do not run set_sysvol_ntacl.py
    - improved log levels and messages

 -- Arvid Requate <requate@univention.de>  Wed, 24 Oct 2012 13:03:31 +0200

univention-s4-connector (7.0.17-11) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - logrotate the connector-s4.log before initial sync

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 19:08:01 +0200

univention-s4-connector (7.0.17-10) unstable; urgency=low

  * univention-ad-takeover (Bug #28390):
    - Remove DNS old DNS SPN account in UCS-LDAP
    - Backup sysvol NTACLs before setting default NTACLs
    - Add dependency on 'attr' for getfattr

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 18:46:31 +0200

univention-s4-connector (7.0.17-9) unstable; urgency=low

  * univention-ad-takeover ((Bug #28390):
    remove logonHours restriction from Administrator account if present

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 16:36:55 +0200

univention-s4-connector (7.0.17-8) unstable; urgency=low

  * add some timing info about the S4 sync (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 16:04:22 +0200

univention-s4-connector (7.0.17-6) unstable; urgency=low

  * use python logging module in univention-ad-takeover.py
    allowing for better log control.
  * replace univention-ad-takeover shell script wrapper by
    univention-ad-takeover.py script again (reverting 7.0.17-1).
  * replace TODO messages by regular log messages (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Tue, 23 Oct 2012 15:42:54 +0200

univention-s4-connector (7.0.17-5) unstable; urgency=low

  * add support for reverse_zone in ucs_zone_create (Bug #28889)
  * fix for complex UDM time syntax in ucs_zone_create

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 22:22:52 +0200

univention-s4-connector (7.0.17-4) unstable; urgency=low

  * wait after stopping listener before removing the s4-connector
    handler file in univention-ad-takeover.py (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 22:20:19 +0200

univention-s4-connector (7.0.17-3) unstable; urgency=low

  * fix mode of univention-ad-takeover.py (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 18:30:46 +0200

univention-s4-connector (7.0.17-2) unstable; urgency=low

  * add UCS copyright header to univention-ad-takeover shell script
    (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 17:43:26 +0200

univention-s4-connector (7.0.17-1) unstable; urgency=low

  * add univention-ad-takeover shell script wrapper to redirect
    all log messages (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Mon, 22 Oct 2012 17:37:52 +0200

univention-s4-connector (7.0.16-1) unstable; urgency=low

  * Wait 5 seconds before the kill result is checked (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 19 Oct 2012 16:17:10 +0200

univention-s4-connector (7.0.15-3) unstable; urgency=low

  * rename UCR variable to samba4/dcerpc/endpoint/drsuapi (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 18 Oct 2012 19:28:59 +0200

univention-s4-connector (7.0.15-2) unstable; urgency=low

  * Initial checkin of univention-ad-takeover (Bug #28390)

 -- Arvid Requate <requate@univention.de>  Thu, 18 Oct 2012 19:18:40 +0200

univention-s4-connector (7.0.14-1) unstable; urgency=low

  * Don't abort the join script if the modification of the group members
    failed because the ignore_exsists parameter is ignored, see Bug
    #28756 (Bug #27753)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 15 Oct 2012 07:58:50 +0200

univention-s4-connector (7.0.13-1) unstable; urgency=low

  * abort join script on failing udm call (Bug #27753)

 -- Lukas Walter <walter@univention.de>  Wed, 10 Oct 2012 12:57:11 +0200

univention-s4-connector (7.0.12-1) unstable; urgency=low

  * Update group cache handling. This fixes an error if the Samba 4 ldap
    base dn is different from the OpenLDAP base dn (Bug #28689)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Oct 2012 20:23:35 +0200

univention-s4-connector (7.0.11-1) unstable; urgency=low

  * Fixed a traceback which occurs if the LDAP and Samba 4 base DNs are
    not equal (Bug #28573)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 15:00:54 +0200

univention-s4-connector (7.0.10-1) unstable; urgency=low

  * Added a reverse attribute check for the mail attribute. This means
    mail from AD will be synced to mailPrimaryAddress in UCS. The UCS
    attribute mail will not be synced (Bug #28240)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 13:44:53 +0200

univention-s4-connector (7.0.9-1) unstable; urgency=low

  * Use TERM/300/KILL for --retry (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 10:57:51 +0200

univention-s4-connector (7.0.8-1) unstable; urgency=low

  * Use --retry for start-stop-daemon while trying to stop the S4
    connector (Bug #27175)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Sep 2012 10:53:17 +0200

univention-s4-connector (7.0.7-1) unstable; urgency=low

  * Use a proper debug message if SSL is disabled (Bug #25835)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Sep 2012 13:35:02 +0200

univention-s4-connector (7.0.6-1) unstable; urgency=low

  * Removed debug line from write_password_settings.py (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 16:48:10 +0200

univention-s4-connector (7.0.5-1) unstable; urgency=low

  * Set attributes to 0 in S4 if they were removed in UCS (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 16:20:06 +0200

univention-s4-connector (7.0.4-1) unstable; urgency=low

  * By default write the settings from Samba 4 to UCS during the upgrade
    to UCS 3.1 (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 14:27:28 +0200

univention-s4-connector (7.0.3-1) unstable; urgency=low

  * Synchronize the password settings between the Samba 4 base object
    and the UCS sambaDomain object (Bug #24237)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Aug 2012 11:46:09 +0200

univention-s4-connector (7.0.2-1) unstable; urgency=low

  * Restart the connector at the end of the join process to use the new
    values for connector/s4/poll/sleep and connector/s4/retryrejected
    (Bug #26859)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Aug 2012 14:23:09 +0200

univention-s4-connector (7.0.1-1) unstable; urgency=low

  * Search again if the connection was closed and a reopen was needed
    (Bug #27176)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Aug 2012 14:11:54 +0200

univention-s4-connector (6.0.170-1) unstable; urgency=low

  * Fixed typo while synchronize DNS cnames from S4 to UCS (Bug #26346)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 10 Jul 2012 08:00:44 +0200

univention-s4-connector (6.0.169-1) unstable; urgency=low

  * Undo last commit: univention-s4-position-sync: do not move DC
    objects (Bug #26379)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Jul 2012 21:02:19 +0200

univention-s4-connector (6.0.168-1) unstable; urgency=low

  * univention-s4-position-sync: do not move DC objects (Bug #26379)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 06 Jul 2012 20:05:01 +0200

univention-s4-connector (6.0.167-1) unstable; urgency=low

  * Use given SRV locations from S4 when creating SRV record in UCS even
    if the location is overwritten in UCR (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 04 Jul 2012 07:18:57 +0200

univention-s4-connector (6.0.166-1) unstable; urgency=low

  * Fixed a typo in DNS SRV mapping which prevents the SRV record sync
    from S4 to UCS when the location is set in UCR (Bug #27706)
  * Don't try to create a SRV record on UCS when the location has been
    overwritten by UCR because empty locations are not allowed on UCS

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 04 Jul 2012 07:07:36 +0200

univention-s4-connector (6.0.165-1) unstable; urgency=low

  * Use machine.secret by default on DC Slave and Memberserver
    (Bug #26203)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 29 Jun 2012 12:31:35 +0200

univention-s4-connector (6.0.164-1) unstable; urgency=low

  * Fixed a typo in the UCR variables description for
    mapping/dns/srv_record/.*/location (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 09:20:13 +0200

univention-s4-connector (6.0.163-1) unstable; urgency=low

  * Give the S4 connector two seconds to die before it will be started
    again (Bug #27408)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 08:28:38 +0200

univention-s4-connector (6.0.162-1) unstable; urgency=low

  * Added ignorelist for DNS, OUs, container and computers (Bug #26860)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 28 Jun 2012 08:16:38 +0200

univention-s4-connector (6.0.161-1) unstable; urgency=low

  * univention-s4-position-sync: check if connector/s4/ldap/bindpw is
    set, it might be empty (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 09:41:43 +0200

univention-s4-connector (6.0.160-1) unstable; urgency=low

  * The match filter for DCs has been amended so that
    computers/windows_domaincontroller object are also synchronized
    (Bug #26174)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 08:52:13 +0200

univention-s4-connector (6.0.159-1) unstable; urgency=low

  * Check for conflicted objects in poll (Bug #27749)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 07:41:48 +0200

univention-s4-connector (6.0.158-1) unstable; urgency=low

  * Ignore conflicted objects from S4 (Bug #27749)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 27 Jun 2012 06:26:53 +0200

univention-s4-connector (6.0.157-1) unstable; urgency=low

  * The connector listener handler writes group objects into a global
    list. This is a performance improvement which was added with Bug
    #18619. This global group list is only needed in the the initalize
    phase. It is now considered and saves a lot of memory (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 26 Jun 2012 06:31:07 +0200

univention-s4-connector (6.0.156-1) unstable; urgency=low

  * Set connector/s4/autostart to no if another connector is running in
    this domain (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 17:24:19 +0200

univention-s4-connector (6.0.155-1) unstable; urgency=low

  * Fixed typo from last commit (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 11:41:54 +0200

univention-s4-connector (6.0.154-1) unstable; urgency=low

  * Check if ucr_locations exists (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 07:20:28 +0200

univention-s4-connector (6.0.153-1) unstable; urgency=low

  * Allow 'ignore' for SRV record mapping (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 25 Jun 2012 06:27:27 +0200

univention-s4-connector (6.0.152-1) unstable; urgency=low

  * Convert UCR variables for SRV records to lower case (Bug #27706)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 24 Jun 2012 13:15:17 +0200

univention-s4-connector (6.0.151-1) unstable; urgency=low

  * Added UCR variables to overwrite the DNS SRV records by UCR
    (Bug #27706 and Bug #27395)
  * Don't try to start / stop the s4 connector if /usr/sbin/univention-
    s4-connector is not available

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 15 Jun 2012 22:14:04 +0200

univention-s4-connector (6.0.150-1) unstable; urgency=low

  * Sync msGPOUserExtensionNames and displayName for GPOs as well
    (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 25 May 2012 08:53:47 +0200

univention-s4-connector (6.0.149-1) unstable; urgency=low

  * Removed cut+paste error while creating the default groups
    (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2012 20:04:28 +0200

univention-s4-connector (6.0.148-1) unstable; urgency=low

  * Re-open the UCS LDAP connection if the connection has been closed
    while searching for all S4 changes (Bug #27173)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2012 06:43:05 +0200

univention-s4-connector (6.0.147-1) unstable; urgency=low

  * Determine the primary group by the gidNumber (Bug #27158)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 20 May 2012 21:20:09 +0200

univention-s4-connector (6.0.146-1) unstable; urgency=low

  * Depend on a newer UDM modules version (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 May 2012 10:23:45 +0200

univention-s4-connector (6.0.145-1) unstable; urgency=low

  * Set primary group for a user while adding (Bug #27157)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 May 2012 08:20:49 +0200

univention-s4-connector (6.0.144-1) unstable; urgency=low

  * Added two new UCR variables to overwrite the aRecord (IPv4) and
    aAAARecord (IPv6) for a DNS forward zone. Therefore the windows
    client uses these IP addresses to access the sysvol share
    (Bug #27106)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 22:10:48 +0200

univention-s4-connector (6.0.143-1) unstable; urgency=low

  * Remove member from the DECODE_IGNORELIST (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 21:11:05 +0200

univention-s4-connector (6.0.142-1) unstable; urgency=low

  * Joinscript: Ignore error messages if user is already member in the
    group. See also Bug #12964 (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 May 2012 20:36:20 +0200

univention-s4-connector (6.0.141-1) unstable; urgency=low

  * sync_ucs_to_s4: avoid removing unicodePwd if there is neither NT hash
    nor timestamp in UDM (Bug #26569)

 -- Arvid Requate <requate@univention.de>  Wed, 16 May 2012 17:34:45 +0200

univention-s4-connector (6.0.140-1) unstable; urgency=low

  * Fixed sid to ucs mapping function (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 May 2012 08:09:55 +0200

univention-s4-connector (6.0.139-1) unstable; urgency=low

  * Add DC to group Domain Controllers (Bug #27402)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 May 2012 06:47:55 +0200

univention-s4-connector (6.0.138-1) unstable; urgency=low

  * Create Samba 4 basis objects (groups and containers) in the S4
    connector join script, because on a 'Slave PDC' the Slave does not
    have the permissions to create these objects (Bug #27042)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 May 2012 06:16:54 +0200

univention-s4-connector (6.0.137-1) unstable; urgency=low

  * The SID/RID attribute has been added to the default S4 connector
    mapping, thereby the objectSid will be set directly in Samba 4
    whether it is configured (Bug #26055)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 May 2012 09:00:06 +0200

univention-s4-connector (6.0.136-1) unstable; urgency=low

  * Use binddn and bindpwd for the GPO migration to support an
    environment without S4 on DC Master and DC Backup (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 May 2012 07:28:19 +0200

univention-s4-connector (6.0.135-1) unstable; urgency=low

  * Write GPO from Samba 4 to UCS on first DC (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 May 2012 16:57:04 +0200

univention-s4-connector (6.0.134-1) unstable; urgency=low

  * Added new UCR variable connector/s4/mapping/gpo to disable the GPO
    sync (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 May 2012 07:56:55 +0200

univention-s4-connector (6.0.133-1) unstable; urgency=low

  * Added gPLink custom attribute to DC and CN too (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 30 Apr 2012 10:20:39 +0200

univention-s4-connector (6.0.132-1) unstable; urgency=low

  * Add all existing GPO containers to the S4 rejected list while
    upgrading the system (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 30 Apr 2012 07:59:44 +0200

univention-s4-connector (6.0.131-1) unstable; urgency=low

  * Start the MS GPO update only on a joined system (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:55:54 +0200

univention-s4-connector (6.0.130-1) unstable; urgency=low

  * Don't call msgpo.py twice (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:46:13 +0200

univention-s4-connector (6.0.129-1) unstable; urgency=low

  * Added a dependency to the ldap server package (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 23:33:20 +0200

univention-s4-connector (6.0.128-1) unstable; urgency=low

  * Synchonize MS GPO links and objects (Bug #26926)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Apr 2012 12:00:32 +0200

univention-s4-connector (6.0.127-1) unstable; urgency=low

  * Added two UCR variables to list all ignored users and groups
    (connector/s4/mapping/user/ignorelist and
    connector/s4/mapping/group/ignorelist) (Bug #26860)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 20 Apr 2012 23:19:28 +0200

univention-s4-connector (6.0.126-1) unstable; urgency=low

  * Use LDB control 'bypass_samaccountname_ldap_check' in add and modify
    if the LDB module 'univention_samaccountname_ldap_check' is activated
    by the UCR variable 'samba4/ldb/sam/module/prepend' (Bug #26768)

 -- Arvid Requate <requate@univention.de>  Thu, 12 Apr 2012 18:11:17 +0200

univention-s4-connector (6.0.125-1) unstable; urgency=low

  * If an user was added in UCS, the primary group setting will be synced
    from UCS to S4 like expected. This means the user will no longer added
    automatically to the group Domain Users (Bug #26808)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Apr 2012 11:06:15 +0200

univention-s4-connector (6.0.124-1) unstable; urgency=low

  * Added binddn and bindpwd parameter to the S4 connector join tools.
    This prevents errors during the join if a DC slave is the first
    Samba DC (Bug #26505, Bug #26203)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Apr 2012 07:47:04 +0200

univention-s4-connector (6.0.123-1) unstable; urgency=low

  * The join script will be aborted if the configuration of Samba 4 was
    not successful (Bug #26657)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 29 Mar 2012 10:33:33 +0200

univention-s4-connector (6.0.122-1) unstable; urgency=low

  * Ignore conflicted DNS objects (Bug #26202)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 16:26:08 +0200

univention-s4-connector (6.0.121-1) unstable; urgency=low

  * Delete "CN=RID Set" for a DC if the DC has been removed (Bug #26210)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 15:41:43 +0200

univention-s4-connector (6.0.120-1) unstable; urgency=low

  * Restart S4 connector when rotating the log files (Bug #26060)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 09:56:36 +0200

univention-s4-connector (6.0.119-1) unstable; urgency=low

  * A typo in the DNS zone delete function was removed, which prevented
    a deletion of a DNS zone (Bug #26343)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Mar 2012 07:36:51 +0200

univention-s4-connector (6.0.118-1) unstable; urgency=low

  * Fixed typo (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 18:09:36 +0100

univention-s4-connector (6.0.117-1) unstable; urgency=low

  * Some more sync user password fixes (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 17:28:47 +0100

univention-s4-connector (6.0.116-1) unstable; urgency=low

  * Remove local sync user from password_sync_ucs_to_s4 tool
    (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 16:55:18 +0100

univention-s4-connector (6.0.115-1) unstable; urgency=low

  * Fixed typo from last commit (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 11:50:46 +0100

univention-s4-connector (6.0.114-1) unstable; urgency=low

  * S4 connector does not require a local user for the Samba 4 directory
    access (Bug #26197)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Mar 2012 07:36:05 +0100

univention-s4-connector (6.0.113-1) unstable; urgency=low

  * Set pwd last set attributes only if the password was changed
    (Bug #26466)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 13 Mar 2012 06:39:45 +0100

univention-s4-connector (6.0.112-1) unstable; urgency=low

  * Added UCR variable connector/s4/mapping/dns/syncmode to configure
    DNS syncmode (Bug #26464)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 12 Mar 2012 20:06:14 +0100

univention-s4-connector (6.0.111-1) unstable; urgency=low

  * Don't try to add a user to his primary group in S4. This might
    happen, if we synchronize a rejected file with old informations
    (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 24 Feb 2012 07:32:56 +0100

univention-s4-connector (6.0.110-2) unstable; urgency=low

  * render univention-s4-position-sync executable (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Feb 2012 12:13:02 +0100

univention-s4-connector (6.0.110-1) unstable; urgency=low

  * adjust path for univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Thu, 23 Feb 2012 09:42:46 +0100

univention-s4-connector (6.0.109-1) unstable; urgency=low

  * Add the memberUid value to the group if the new member is a user
    (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 23 Feb 2012 06:50:32 +0100

univention-s4-connector (6.0.108-1) unstable; urgency=low

  * Fixed another python syntax error (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 09:49:47 +0100

univention-s4-connector (6.0.107-1) unstable; urgency=low

  * Fixed python syntax error (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 09:32:55 +0100

univention-s4-connector (6.0.106-1) unstable; urgency=low

  * Use function __search_s4 (Bug #26208)
  * Fixed group membership sync (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Feb 2012 08:11:42 +0100

univention-s4-connector (6.0.105-1) unstable; urgency=low

  * Don't map the windows computer to a DN with uid= (Bug #26121)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 14:08:48 +0100

univention-s4-connector (6.0.104-1) unstable; urgency=low

  * Check if bindpw file exists (Bug #25985)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 10:10:55 +0100

univention-s4-connector (6.0.103-1) unstable; urgency=low

  * Create ucs-s4sync user only if /etc/samba4.secret was created
    (Bug #25985)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Feb 2012 07:20:10 +0100

univention-s4-connector (6.0.102-1) unstable; urgency=low

  * Fixed sid checking (Bug #26005)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 17 Feb 2012 15:42:56 +0100

univention-s4-connector (6.0.101-2) unstable; urgency=low

  * translate ldap_base to samba4_ldap_base after position_mapping
    in univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Feb 2012 15:20:09 +0100

univention-s4-connector (6.0.101-1) unstable; urgency=low

  * New tool univention-s4-position-sync (Bug #26120)

 -- Arvid Requate <requate@univention.de>  Wed, 15 Feb 2012 10:47:19 +0100

univention-s4-connector (6.0.100-1) unstable; urgency=low

  * Added position mapping for windows computers and domain controller
    (Bug #26121)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 14 Feb 2012 07:41:36 +0100

univention-s4-connector (6.0.99-1) unstable; urgency=low

  * Added two UCR variables to configure the sid_to_s4 and sid_to_ucs
    mapping (connector/s4/mapping/sid_to_ucs and
    connector/s4/mapping/sid_to_s4) (Bug #26005)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Feb 2012 14:27:53 +0100

univention-s4-connector (6.0.98-1) unstable; urgency=low

  * Check if group cache is empty (Bug #25709)
  * Don't build group cache while listing rejects (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 07 Feb 2012 14:49:02 +0100

univention-s4-connector (6.0.97-2) unstable; urgency=low

  * fix python2.6-style exception handling for python2.5 (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Thu, 02 Feb 2012 18:12:04 +0100

univention-s4-connector (6.0.97-1) unstable; urgency=low

  * Use the correct group cache (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 20:16:16 +0100

univention-s4-connector (6.0.96-1) unstable; urgency=low

  * Added support for referral handling (Bug #25986)
  * Group caching: Minor updates Bug (#25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 15:02:42 +0100

univention-s4-connector (6.0.95-1) unstable; urgency=low

  * Group caching: Add a user to the group cache even if he is already
    member of the group (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 01 Feb 2012 07:52:13 +0100

univention-s4-connector (6.0.94-2) unstable; urgency=low

  * Support for a different binddn and bindpw for the UCS access,
    for example if the machine acount should be used (Bug #25985)
  * Cleanup the UCR variables description
  * Added UCR variable connector/s4/allow/secondary which allows a
    second s4 connector in the domain (Bug #25990)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 16:18:23 +0100

univention-s4-connector (6.0.94-1) unstable; urgency=low

  * More group caching updates (Bug #25709)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 13:24:58 +0100

univention-s4-connector (6.0.93-1) unstable; urgency=low

  * ignore NT-hashes found in supplementalCredentials of W2k8R2 users
    (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Mon, 09 Jan 2012 18:23:59 +0100

univention-s4-connector (6.0.92-2) unstable; urgency=low

  * adjusted exception handling (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Thu, 05 Jan 2012 13:23:46 +0100

univention-s4-connector (6.0.92-1) unstable; urgency=low

  * workaround for ndr_unpack exceptions due to invalid values in the
    attribute supplementalCredentials (Bug #24779)

 -- Arvid Requate <requate@univention.de>  Wed, 04 Jan 2012 17:54:27 +0100

univention-s4-connector (6.0.91-1) unstable; urgency=low

  * Build an internal group membership cache. This increases the group
    synchronisation performance (Bug #25709)
  * Use sqlite as backend for internal.cfg (Bug #13045)
  * Copy page result code from AD connector (Bug #25975)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 31 Jan 2012 08:29:32 +0100

univention-s4-connector (6.0.90-1) unstable; urgency=low

  * Don't skip the synchronization if the object was added in UCS
    (Bug #25847)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 23 Jan 2012 11:05:46 +0100

univention-s4-connector (6.0.89-1) unstable; urgency=low

  * Don't synchronize the homeDirectory attribute from UCS to Samba 4.
    The Samba 4 attribute homeDirectory will be synchronized with the
    UCS attribute sambaHomePath (Bug #25823)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 23 Jan 2012 09:37:17 +0100

univention-s4-connector (6.0.88-1) unstable; urgency=low

  * Don't recode value if recoding raises an UnicodeDecodeError
    exception (Bug #25191)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Dec 2011 15:50:05 +0100

univention-s4-connector (6.0.87-1) unstable; urgency=low

  * Synchonize homeDrive and homeDirectory (Bug #25211)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 06 Dec 2011 08:38:21 +0100

univention-s4-connector (6.0.86-1) unstable; urgency=low

  * Don't reset lastUSN on connector restart (Bug #25037)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 13:47:23 +0100

univention-s4-connector (6.0.85-1) unstable; urgency=low

  * Fixed python syntax error from last commit (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 07:27:11 +0100

univention-s4-connector (6.0.84-1) unstable; urgency=low

  * Don't overwrite the kerberos keys of a Samba4 DC with the kerberos
    keys from the OpenLDAP DC account. This is only necessary if the DC is
    not a Samba 4 DC (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Dec 2011 07:08:42 +0100

univention-s4-connector (6.0.83-1) unstable; urgency=low

  * Removed debug line from last commit (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 30 Nov 2011 19:06:10 +0100

univention-s4-connector (6.0.82-1) unstable; urgency=low

  * Save lastUSN in cache and commit them after the sync is finished
    (Bug #24225)
  * Don't set retryrejected to 1 use 2 for the initialize stage
  * Adapt complex syntax for DNS zones

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 30 Nov 2011 18:01:46 +0100

univention-s4-connector (6.0.81-1) unstable; urgency=low

  * Fixed handling for con_other attributes. This allows the sync of two
    AD/S4 attributes (one single value and one multi value) to one multi
    value UCS attribute like homePhone, otherHomePhone to
    homeTelephoneNumber (Bug #24119 and Bug #20599)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Nov 2011 21:53:48 +0100

univention-s4-connector (6.0.80-1) unstable; urgency=low

  * Added sid_to_ucs to ucs_create_functions (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 29 Nov 2011 16:31:37 +0100

univention-s4-connector (6.0.79-1) unstable; urgency=low

  * fixed logrotate template (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Mon, 21 Nov 2011 16:26:15 +0100

univention-s4-connector (6.0.78-1) unstable; urgency=low

  * add each keytype only once when constructing krb5Keys from
    supplementalCredentials (Bug #24437)

 -- Arvid Requate <requate@univention.de>  Mon, 21 Nov 2011 14:56:13 +0100

univention-s4-connector (6.0.77-1) unstable; urgency=low

  * sync NThash extracted from krb5keys to userPassword
    if sambaNTPassword is missing in UCS (Bug #24437)

 -- Arvid Requate <requate@univention.de>  Mon, 21 Nov 2011 11:38:11 +0100

univention-s4-connector (6.0.76-1) unstable; urgency=low

  * fixed logrotate template (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Fri, 18 Nov 2011 16:54:57 +0100

univention-s4-connector (6.0.75-1) unstable; urgency=low

  * In some cases samba4 and bind9 need a restart to complete
    (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 18 Nov 2011 16:21:24 +0100

univention-s4-connector (6.0.74-1) unstable; urgency=low

  * Sync password if the S4 password is empty (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 16 Nov 2011 16:08:26 +0100

univention-s4-connector (6.0.73-1) unstable; urgency=low

  * Synchonize the DC and Client password between OpenLDAP and Samba 4
    (Bug #21213)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 15 Nov 2011 21:25:06 +0100

univention-s4-connector (6.0.72-1) unstable; urgency=low

  * Synchronize the kerberos key from S4 krbtgt user to OpenLDAP
    krbtgt/REALM@RELAM object (Bug #24591)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 16:56:21 +0100

univention-s4-connector (6.0.71-1) unstable; urgency=low

  * Added well known groups to ignore filter (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 14 Nov 2011 15:35:53 +0100

univention-s4-connector (6.0.70-1) unstable; urgency=low

  * Ignore group 'Authenticated Users' (Bug #24288)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 10 Nov 2011 12:29:25 +0100

univention-s4-connector (6.0.69-1) unstable; urgency=low

  * Use Unpickler for loading the object (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 Nov 2011 22:18:48 +0100

univention-s4-connector (6.0.68-1) unstable; urgency=low

  * fix host parsing for IPv6 (Bug #24479)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Wed, 09 Nov 2011 13:56:46 +0100

univention-s4-connector (6.0.67-1) unstable; urgency=low

  * Sync pwdChangeNextLogin from UCS to S4 (Bug #24465)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 09 Nov 2011 09:10:07 +0100

univention-s4-connector (6.0.66-1) unstable; urgency=low

  * Rename disbale_delete into disable_delete_in_ucs (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 Nov 2011 16:24:25 +0100

univention-s4-connector (6.0.65-2) unstable; urgency=low

  * Synchronize DC objects (Bug #24437)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 08 Nov 2011 12:04:20 +0100

univention-s4-connector (6.0.65-1) unstable; urgency=low

  * Don't show a warning if userPrincipalName and krb5Principal only
    differ in uppercase and lowercase (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 05 Nov 2011 09:31:50 +0100

univention-s4-connector (6.0.64-1) unstable; urgency=low

  * Map DNS MX records between S4 and UCS LDAP (Bug #24403)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2011 23:37:28 +0100

univention-s4-connector (6.0.63-2) unstable; urgency=low

  * Ignore cn=System and cn=MicrosoftDNS (Bug #24365)
  * Map DNS MX records between S4 and UCS LDAP (Bug #24403)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 04 Nov 2011 22:41:34 +0100

univention-s4-connector (6.0.63-1) unstable; urgency=low

  * Fixed autostart handling (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 19:30:15 +0100

univention-s4-connector (6.0.62-1) unstable; urgency=low

  * Add a new property 'ucs_module_others' to property / mapping. This
    allows to match one AD object to multiple UCS modules. For example a
    Windows client on AD could be a computers/windows or a
    computers/memberserver module on UCS. The property 'ucs_module' is
    foremost (Bug #24373)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 18:28:19 +0100

univention-s4-connector (6.0.61-2) unstable; urgency=low

  * s4/dns.py: Added IPv6 support (Bug #24348)
  * Check explicit on NO_SUCH_OBJECT and show a proper message

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 03 Nov 2011 07:54:28 +0100

univention-s4-connector (6.0.60-1) unstable; urgency=low

  * Use cPickle.Pickler an clear_memo(), otherwise the internal python
    refcount will not be decreased and the memeory is lost (Bug #24273)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 02 Nov 2011 15:51:09 +0100

univention-s4-connector (6.0.59-1) unstable; urgency=low

  * More fixes on attribute deletion (Bug #8604)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 31 Oct 2011 12:25:53 +0100

univention-s4-connector (6.0.58-2) unstable; urgency=low

  * Don't synchronize memberserver as windows computers. If samba was
    installed on the memberserver they will be added to S4 automatically
    (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 31 Oct 2011 11:13:32 +0100

univention-s4-connector (6.0.58-1) unstable; urgency=low

  * Set poll/sleep and retryrejected temporary to a lower value in
    97univention-s4-connector.inst (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 30 Oct 2011 21:39:57 +0100

univention-s4-connector (6.0.57-2) unstable; urgency=low

  * Adjust service registration to UCS 3.0 (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 30 Oct 2011 09:18:26 +0100

univention-s4-connector (6.0.57-1) unstable; urgency=low

  * Fixed debug messages
  * Added more debug messages to univention-password_sync_ucs_to_s4
  * Start univention-password_sync_ucs_to_s4 again if it fails
    (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 29 Oct 2011 18:30:19 +0200

univention-s4-connector (6.0.56-1) unstable; urgency=low

  * Added a new parameter con_other_attribute for the attribute
    mapping. This allows to map two AD/S4 attributes (one single
    value and one multivalue) to one UCS multivalue attribute
    (Bug #24119)
  * Consider attribute deletion of attributes in UCS (Bug #8604)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 28 Oct 2011 11:57:18 +0200

univention-s4-connector (6.0.55-1) unstable; urgency=low

  * If connector/s4/mapping/sid is set to false, save the SID from S4 in
    univentionSamba4SID (Bug #24225)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 17:42:09 +0200

univention-s4-connector (6.0.54-1) unstable; urgency=low

  * Don't use the udm get_superordinate function because s4connector.dns
    overwrites the identify function of handlers.dns.dns.py (Bug #24220)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 27 Oct 2011 10:39:56 +0200

univention-s4-connector (6.0.53-1) unstable; urgency=low

  * workaround for PEP 366 (Bug #23984)

 -- Arvid Requate <requate@univention.de>  Tue, 25 Oct 2011 13:36:28 +0200

univention-s4-connector (6.0.52-1) unstable; urgency=low

  * Synchronize sambaWorkstations (Bug #24119)
  * Added telephoneNumber synchonization
  * Added phone numbers to mapping
  * Synchonize displayName (Bug #20601)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 25 Oct 2011 08:35:51 +0200

univention-s4-connector (6.0.51-1) unstable; urgency=low

  * Set self.configRegistry in s4/__init__.py (Bug #24164)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Oct 2011 13:48:05 +0200

univention-s4-connector (6.0.50-1) unstable; urgency=low

  * Added a UCR variable connector/s4/mapping/sid to disable the sid
    synchronisation (Bug #24164)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Oct 2011 12:03:18 +0200

univention-s4-connector (6.0.49-1) unstable; urgency=low

  * Don't call the 98univention-samba4-dns.inst join script from the s4
    connector join script otherwise the join will fail. The steps have
    been added to the s4 connector join script (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 23 Oct 2011 20:17:04 +0200

univention-s4-connector (6.0.48-2) unstable; urgency=low

  * Fix dependencies on u-c (Bug #22668)

 -- Philipp Hahn <hahn@univention.de>  Sat, 22 Oct 2011 04:11:27 +0200

univention-s4-connector (6.0.48-1) unstable; urgency=low

  * Be sure the connector/s4/listener/dir directory exists (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 19:23:16 +0200

univention-s4-connector (6.0.47-1) unstable; urgency=low

  * Support complex service records (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 14:55:03 +0200

univention-s4-connector (6.0.46-1) unstable; urgency=low

  * add password_sync_ucs_to_s4 for Administratror again (Bug #22861)

 -- Arvid Requate <requate@univention.de>  Wed, 19 Oct 2011 14:52:24 +0200

univention-s4-connector (6.0.45-1) unstable; urgency=low

  * Don't show first traceback if an object was dropped because it might
    be the parent object (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 12:09:37 +0200

univention-s4-connector (6.0.44-1) unstable; urgency=low

  * Handle LDAP server restarts and S4 restarts (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Oct 2011 08:25:46 +0200

univention-s4-connector (6.0.43-1) unstable; urgency=low

  * call 98univention-samba4-dns.inst in joinscript (Bug #23786)
  * don't call password_sync_ucs_to_s4 for Administratror

 -- Arvid Requate <requate@univention.de>  Tue, 18 Oct 2011 18:43:06 +0200

univention-s4-connector (6.0.42-1) unstable; urgency=low

  * Merged AD connector changes from r27472
    * Don't synchonisze all objects during the init twice, only search for                                                                                                                          
      uSNCreated objects and not for uSNCreated and uSNChanged objects                                                                                                                              
      (Bug #23734)                                                                                                                                                                                  
    * Don't try to decode the userCertificate value (Bug #23612)                                                                                                                                    
    * Build an internal membership cache while synchonize the members from                                                                                                                          
      S4 to UCS. So every S4 member will get once instead of twice. Also                                                                                                                            
      don't open the UDM group module twice (Bug #21010)                                                                                                                                            
    * Make the ldap sever configurable (Bug #18136)                                                                                                                                                 

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 18 Oct 2011 07:20:06 +0200

univention-s4-connector (6.0.41-1) unstable; urgency=low

  * Use new overlay module k5pwd and set userPassword to {K5KEY}
    (Bug #15062)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 17 Oct 2011 17:41:48 +0200

univention-s4-connector (6.0.40-1) unstable; urgency=low

  * Restart S4 connector in join script (Bug #24074)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Oct 2011 11:30:42 +0200

univention-s4-connector (6.0.39-1) unstable; urgency=low

  * The samba-tool command newuser was removed in new samba version.
    Switch to user add (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Oct 2011 07:39:31 +0200

univention-s4-connector (6.0.38-1) unstable; urgency=low

  * added logrotate configuration (Bug #18002) 

 -- Felix Botner <botner@univention.de>  Wed, 12 Oct 2011 11:13:03 +0200

univention-s4-connector (6.0.37-1) unstable; urgency=low

  * Removed set_uid_umlauts (Bug #23975)

 -- Stefan Gohmann <gohmann@univention.de>  Sat, 08 Oct 2011 14:01:53 +0200

univention-s4-connector (6.0.36-1) unstable; urgency=low

  * Avoid an endless sync loop while restarting the Samba 4 daemon
    (Bug #18619)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Sep 2011 07:15:39 +0200

univention-s4-connector (6.0.35-1) unstable; urgency=low

  * fix warning in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 26 Sep 2011 12:29:14 +0200

univention-s4-connector (6.0.34-1) unstable; urgency=low

  * Merged from AD Connector:
    - poll_ucs: Create a list of all DNs which should be synced in this
      run. If the DN will synced later skip the sync for this object at
      this point (Bug #21010, Bug #18619)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 21 Sep 2011 10:56:04 +0200

univention-s4-connector (6.0.33-1) unstable; urgency=low

  * Disable DC synchronisation (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 21:18:05 +0200

univention-s4-connector (6.0.32-1) unstable; urgency=low

  * Fixed bash syntax error (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 19:38:46 +0200

univention-s4-connector (6.0.31-1) unstable; urgency=low

  * Synchonize sAMAccountName for computer accounts (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 11:53:48 +0200

univention-s4-connector (6.0.30-1) unstable; urgency=low

  * Re-activate password sync for computer objects (Bug #23162)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 20 Sep 2011 11:31:05 +0200

univention-s4-connector (6.0.29-1) unstable; urgency=low

  * set connector/s4/autostart conditionally in join script (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 19 Sep 2011 11:50:23 +0200

univention-s4-connector (6.0.28-1) unstable; urgency=low

  * Consider diffrent dns '.' handling in S4 and UCS (Bug #23357)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 18 Sep 2011 09:40:02 +0200

univention-s4-connector (6.0.27-1) unstable; urgency=low

  * Exclude DC=RootDNSServers,CN=MicrosoftDNS,CN=System (Bug #23357)
  * Print tracebacks direct into s4-connector.log
  * Ignore DC=_ldap._tcp.Default-First-Site-Name._site

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 16 Sep 2011 11:39:29 +0200

univention-s4-connector (6.0.26-1) unstable; urgency=low

  * Added SID mapping for computers and groups (Bug #23162, Bug #22861)
  * More list-rejected fixes (Bug #22861)
  * Disable password mapping for computer objects (Bug #23162)
  * Added DNS mapping (Bug #23357)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 14 Sep 2011 07:29:14 +0200

univention-s4-connector (6.0.25-1) unstable; urgency=low

  * Add a mapping for DCs and remove ou=Domain Controllers from the ignore
    filter (Bug #23162)
  * Set default debug level to 2 (PROCESS) and show for this debug level
    a real process (Bug #22861)
  * Cleanup the list-rejected output (Bug #22861)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 01 Sep 2011 06:20:21 +0200

univention-s4-connector (6.0.24-2) unstable; urgency=low

  * joinscript fix (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:28:17 +0200

univention-s4-connector (6.0.24-1) unstable; urgency=low

  * this package depends on univention-heimdal-common (Bug #22600)

 -- Arvid Requate <requate@univention.de>  Wed, 31 Aug 2011 18:02:02 +0200

univention-s4-connector (6.0.23-1) unstable; urgency=low

  * If the password was set in UCS without sambaPwdLastSet, the current
    time will be used (Bug #22862)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 31 Aug 2011 07:30:26 +0200

univention-s4-connector (6.0.22-10) unstable; urgency=low

  * adjust joinscript version for MS2 (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 19:28:15 +0200

univention-s4-connector (6.0.22-9) unstable; urgency=low

  * set service name in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 13:18:06 +0200

univention-s4-connector (6.0.22-8) unstable; urgency=low

  * fix typo in joinscript (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 12:32:42 +0200

univention-s4-connector (6.0.22-7) unstable; urgency=low

  * take care of whitespace when iterating over DNs (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 10:21:04 +0200

univention-s4-connector (6.0.22-6) unstable; urgency=low

  * use udm to search for service record (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 10:12:01 +0200

univention-s4-connector (6.0.22-5) unstable; urgency=low

  * autostart the connector only on first system running this joinscript
  * register the service only on first system (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:34:00 +0200

univention-s4-connector (6.0.22-4) unstable; urgency=low

  * perform initial setup tasks only if the joining host is the first
    to provide the S4 Connector service (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:24:38 +0200

univention-s4-connector (6.0.22-3) unstable; urgency=low

  * lookup of service record can be done on local host (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Tue, 30 Aug 2011 09:20:39 +0200

univention-s4-connector (6.0.22-2) unstable; urgency=low

  * fix shell syntax (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 17:35:42 +0200

univention-s4-connector (6.0.22-1) unstable; urgency=low

  * try to copy samba4.secret during join from any UCS domaincontroller
    offering the S4 Connector service (Bug #23360)

 -- Arvid Requate <requate@univention.de>  Mon, 29 Aug 2011 09:24:20 +0200

univention-s4-connector (6.0.21-1) unstable; urgency=low

  * Bug #22862: Allow the user creation on UCS without the samba attribues
    * Change match filter to match all non samba users
    * Added sid mapping functions, the s4 obectSid will be synced to the
      sambaSID object in UCS

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Aug 2011 10:53:43 +0200

univention-s4-connector (6.0.20-1) unstable; urgency=low

  * include univention-lib in joinscript (Bug #23426)

 -- Arvid Requate <requate@univention.de>  Thu, 25 Aug 2011 13:29:44 +0200

univention-s4-connector (6.0.19-1) unstable; urgency=low

  * Register S4 Connector service entry (Bug #22862)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Aug 2011 07:59:11 +0200

univention-s4-connector (6.0.18-1) unstable; urgency=low

  * move salt_krb5keys to univention-heimdal-kdc (Bug #22212)

 -- Arvid Requate <requate@univention.de>  Mon, 15 Aug 2011 15:21:25 +0200

univention-s4-connector (6.0.17-1) unstable; urgency=low

  * Call univention-password_sync_ucs_to_s4 for Administrator in join
    script after the s4 connector is configured (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 05 Aug 2011 16:32:53 +0200

univention-s4-connector (6.0.16-1) unstable; urgency=low

  * call univention-password_sync_ucs_to_s4 for Administrator once
    in join script, i.e. before first stat of the S4 Connector.
  * avoid duplication of complex password_sync_ucs_to_s4 code  
    in univention-password_sync_ucs_to_s4, simply call the connector code
  * remove ad-connector specific code in s4connector/s4/password.py
    (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 04 Aug 2011 11:06:52 +0200

univention-s4-connector (6.0.15-1) unstable; urgency=low

  * samba2ad_time was renamed to samba2s4_time. In univention-
    password_sync_ucs_to_s4 use te new name (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 04 Aug 2011 06:08:43 +0200

univention-s4-connector (6.0.14-1) unstable; urgency=low

  * normalise_userAccountControl to 512 in post_con_create_functions
  * fix debug message (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 16:19:16 +0200

univention-s4-connector (6.0.13-1) unstable; urgency=low

  * fix userAccountControl in function disable_user_from_ucs (Bug #23154)

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 15:50:58 +0200

univention-s4-connector (6.0.12-1) unstable; urgency=low

  * sync krb5Principal to userPrincipalName (Bug #22559)
    beware: the case currently differs from the Samba4-Standard
  * allow for missing single-des keys in create_supplementalCredentials.
    With this change, the connector code does not stop any longer with
    "Subcontext Error" (NDR_ERR_SUBCONTEXT) if allow_weak_crypto=false
    is kept as default in krb5.conf.
    Currently this triggers another strange error message from samba4:
    "Constraint violation - KerberosNewerKeys num_keys != 2"
    but thats more useful than "Subcontext Error".

 -- Arvid Requate <requate@univention.de>  Wed, 03 Aug 2011 14:40:38 +0200

univention-s4-connector (6.0.11-1) unstable; urgency=low

  * Adjust univention-password_sync_ucs_to_s4 to new ucr variables and
    to the new module structure (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 03 Aug 2011 08:40:23 +0200

univention-s4-connector (6.0.10-2) unstable; urgency=low

  * check JS_LAST_EXECUTED_VERSION in joinscript (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 19:53:07 +0200

univention-s4-connector (6.0.10-1) unstable; urgency=low

  * call salt_krb5keys in join script (Bug #22559)
  * remove raw named check from join script

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 18:42:07 +0200

univention-s4-connector (6.0.9-2) unstable; urgency=low

  * depend on recent versions of python-univention-heimdal and
    python-univention-directory-manager (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 02 Aug 2011 17:23:45 +0200

univention-s4-connector (6.0.9-1) unstable; urgency=low

  * Initialize udm modules (Bug #22439)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Aug 2011 17:20:49 +0200

univention-s4-connector (6.0.8-1) unstable; urgency=low

  * Set correct logfiles (Bug #22580)
  * Fix lo initialize in s4connector (Bug #22580)
  * By default set connector/s4/ldap/ssl to no

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Aug 2011 16:52:12 +0200

univention-s4-connector (6.0.7-2) unstable; urgency=low

  * depend on univention-samba4, otherwise get_loadparm fails due to
    missing settings in smb.conf (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Thu, 28 Jul 2011 18:20:49 +0200

univention-s4-connector (6.0.7-1) unstable; urgency=low

  * dependency on samba4-clients for samba-tool, pulls samba4 (Bug #22559)

 -- Arvid Requate <requate@univention.de>  Tue, 26 Jul 2011 19:24:54 +0200

univention-s4-connector (6.0.6-1) unstable; urgency=low

  * fixed bashisms (Bug #23005)

 -- Sönke Schwardt-Krummrich <schwardt@univention.de>  Tue, 12 Jul 2011 18:36:02 +0200

univention-s4-connector (6.0.5-1) unstable; urgency=low

  * Use correct listener dir (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 18:28:28 +0200

univention-s4-connector (6.0.4-1) unstable; urgency=low

  * Use s4internal.cfg (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 18:13:47 +0200

univention-s4-connector (6.0.3-1) unstable; urgency=low

  * Install init.d script (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 07 Jul 2011 17:26:26 +0200

univention-s4-connector (6.0.2-1) unstable; urgency=low

  * Removed univention-s4search, it will be part of univention-samba4
    (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 13:37:11 +0200

univention-s4-connector (6.0.1-1) unstable; urgency=low

  * Added missing install files from last commit (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 12:17:16 +0200

univention-s4-connector (6.0.0-1) unstable; urgency=low

  * Rename source package to univention-s4-connector
  * Package cleanups for UCS 3.0 (Bug #22580)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 08 Jun 2011 12:08:41 +0200

univention-ad-connector (5.1.26-1) unstable; urgency=low

  * Undo last commit, Administrator does not exist at this time
    (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 21:26:55 +0100

univention-ad-connector (5.1.25-1) unstable; urgency=low

  * Call univention-password_sync_ucs_to_s4 for Administrator account
    (Bug #20917)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 24 Jan 2011 19:55:09 +0100

univention-ad-connector (5.1.24-2) unstable; urgency=low

  * add and install univention-password_sync_ucs_to_s4 (Bug #20917)

 -- Arvid Requate <requate@univention.de>  Mon, 24 Jan 2011 19:08:11 +0100

univention-ad-connector (5.1.24-1) unstable; urgency=low

  * add unfinished version op password_sync.py (Bug #20917)

 -- Arvid Requate <requate@univention.de>  Mon, 24 Jan 2011 10:20:43 +0100

univention-ad-connector (5.1.23-1) unstable; urgency=low

  * Check if tmp directory exists (Bug #21226)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 21 Jan 2011 07:43:50 +0100

univention-ad-connector (5.1.22-1) unstable; urgency=low

  * Use newuser samba-tool command because the newuser command do not
    need a running samba4 server (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Sun, 16 Jan 2011 13:09:02 +0100

univention-ad-connector (5.1.21-1) unstable; urgency=low

  * set pwdLastSet from sambaPwdLastSet
  * use existing ad2samba_time to convert pwdLastSet
  * fix LM change detection in password_sync_ucs_to_s4	(Bug #20917)

 -- Arvid Requate <requate@univention.de>  Fri, 14 Jan 2011 13:02:17 +0100

univention-ad-connector (5.1.20-1) unstable; urgency=low

  * Fixed bitwise filter (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 14 Jan 2011 10:19:49 +0100

univention-ad-connector (5.1.19-2) unstable; urgency=low

  * python (2.5) replaces python-ctypes but python2.4-ctypes ist currently
    required (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Fri, 14 Jan 2011 09:24:10 +0100

univention-ad-connector (5.1.19-1) unstable; urgency=low

  * Support for a bitwise filter otherwise the identify function will
    fail for users since the match filter was changed to a bitwise
    search (Bug #20132)
  * Added dependency to python-ctypes

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 14 Jan 2011 07:12:03 +0100

univention-ad-connector (5.1.18-1) unstable; urgency=low

  * Wait five seconds for the named (Bug #20131)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 21:00:57 +0100

univention-ad-connector (5.1.17-1) unstable; urgency=low

  * calculation of salt.length is up to ndr_push (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 17:12:45 +0100

univention-ad-connector (5.1.16-1) unstable; urgency=low

  * remove unused modules from ad/password.py
  * replace drsblobs.package_PackagesBlob kludge by PyCObject (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 17:05:54 +0100

univention-ad-connector (5.1.15-1) unstable; urgency=low

  * Added mapping for windows hosts (Bug #20132)
  * Added static attributes for the mapping which will be added during
    the object creation. This is required for the windows hosts
  * Restart AD Connector in univention-s4-conmnector postinst

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 15:59:17 +0100

univention-ad-connector (5.1.14-1) unstable; urgency=low

  * readd lost userPassword_ucs definition (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 13 Jan 2011 09:57:54 +0100

univention-ad-connector (5.1.13-2) unstable; urgency=low

  * The same password for Administrator is necessary otherwise we got a
    lot of confusion in the pam stack. pam_krb5 goes against the Samba 4
    database and pam_ldap against OpenLDAP (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 08:32:15 +0100

univention-ad-connector (5.1.13-1) unstable; urgency=low

  * The samba-tool requires a running nameserver. In the UCS environment
    a nameserver is configured after the first boot. So we start here a
    nameserver with the local samba4 dns config (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 13 Jan 2011 07:12:07 +0100

univention-ad-connector (5.1.12-1) unstable; urgency=low

  * Create ucs-s4sync user in s4-connector package (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 21:52:35 +0100

univention-ad-connector (5.1.11-1) unstable; urgency=low

  * add info level log messages for ucs_to_s4 and s4_to_ucs
    password_sync functions
  * add comments indicating sync of krb5KeyVersionNumber (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 19:04:46 +0100

univention-ad-connector (5.1.10-1) unstable; urgency=low

  * add Kerberos-Newer-Keys only if new aes256 or aes128 exist
    (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 18:31:01 +0100

univention-ad-connector (5.1.9-1) unstable; urgency=low

  * password_sync_ucs_to_s4 support for new users (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 16:33:22 +0100

univention-ad-connector (5.1.8-1) unstable; urgency=low

  * activate experimental password_sync_ucs_to_s4 (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 15:15:36 +0100

univention-ad-connector (5.1.7-1) unstable; urgency=low

  * Use synchronisation user ucs-s4sync (Bug #21145)

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 12 Jan 2011 13:52:17 +0100

univention-ad-connector (5.1.6-1) unstable; urgency=low

  * adjust to saltvalue getattr method (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 12 Jan 2011 13:34:38 +0100

univention-ad-connector (5.1.5-1) unstable; urgency=low

  * Removed unused TestCase import in password.py (Bug #20917)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 11 Jan 2011 20:38:27 +0100

univention-ad-connector (5.1.4-1) unstable; urgency=low

  * add calculate_supplementalCredentials
  * some basic lines of password_sync_s4_to_ucs (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Tue, 11 Jan 2011 12:43:31 +0100

univention-ad-connector (5.1.3-1) unstable; urgency=low

  * convert krb.ctr.salt.string for python-univention-heimdal (Bug #20132)
  * sync NT hash even if dBCSPwd cannot be retrived
  * extract Kerberos-Newer-Keys from supplementalCredentials (untested)

 -- Arvid Requate <requate@univention.de>  Fri, 07 Jan 2011 16:46:32 +0100

univention-ad-connector (5.1.2-1) unstable; urgency=low

  * Move s4 connector configuration into a join script (Bug #20132)
  * Allow installation of s4-connector on backup too (Bug #20132)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 06 Jan 2011 14:43:05 +0100

univention-ad-connector (5.1.1-8) unstable; urgency=low

  * parse supplementalCredentials and unicodePwd into a format suitable
    as krb5Key values, courtesy of Stefan Metzmacher from SerNet
    (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 01 Dec 2010 21:51:00 +0100

univention-ad-connector (5.1.1-7) unstable; urgency=low

  * avoid setting connector/ad/ldap/certificate in postinst
    of univention-s4-connector
  * temporarily disable password sync with Samba Directory (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 22:03:36 +0200

univention-ad-connector (5.1.1-6) unstable; urgency=low

  * disable sambaNTPassword sync to avoid tracebacks (Bug #20132)
  * depend on univention-server-master

 -- Arvid Requate <requate@univention.de>  Wed, 06 Oct 2010 19:53:12 +0200

univention-ad-connector (5.1.1-5) unstable; urgency=low

  * ldapi socket path _must_ be url quoted,
    otherwise it is silently ignored by libldap (Bug #20132)
  * more changes of connector/ad/ldap/ldaps to connector/ad/ldap/protocol

 -- Arvid Requate <requate@univention.de>  Tue, 05 Oct 2010 14:34:59 +0200

univention-ad-connector (5.1.1-4) unstable; urgency=low

  * add basic support for ldapi (Bug #20132)
  * rename connector/ad/ldap/ldaps to connector/ad/ldap/protocol

 -- Arvid Requate <requate@univention.de>  Fri, 01 Oct 2010 13:48:36 +0200

univention-ad-connector (5.1.1-3) unstable; urgency=low

  * modify password.py and mapping.py for samba4 unicodePwd (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 19:27:55 +0200

univention-ad-connector (5.1.1-2) unstable; urgency=low

  * samba/ldap/base may differ from ldap/base (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 18:20:55 +0200

univention-ad-connector (5.1.1-1) unstable; urgency=low

  * add univention-s4-connector.postinst for configuration (Bug #20132)
  * depend on univention-samba4 for provision and password

 -- Arvid Requate <requate@univention.de>  Thu, 30 Sep 2010 14:35:52 +0200

univention-ad-connector (5.0.11-2) unstable; urgency=low

  * Version bump for scope samba4 (Bug #20132)

 -- Arvid Requate <requate@univention.de>  Wed, 29 Sep 2010 17:41:37 +0200

univention-ad-connector (5.0.11-1) unstable; urgency=low

  * Use correct is_true call for UCR (Bug #19372 and Bug #19606)
  * Fixed disabled / locked handling based on UCS 2.4 changes
    (Bug #19942)
  * Automatically remove registered pwdump services on 64 bit windows hosts
    (Bug #20141)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Sep 2010 15:31:03 +0200

univention-ad-connector (5.0.10-1) unstable; urgency=low

  * Use the environment variable SYSTEMROOT to detect the c:\windows
    directory, otherwise the service registration failed on Windows 2000
    (Bug #19610)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 08:04:09 +0200

univention-ad-connector (5.0.9-1) unstable; urgency=low

  * Fix is_true() call for checking ssl ucr variables (Bug #19372 and
    Bug #19606)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 07:49:14 +0200

univention-ad-connector (5.0.8-1) unstable; urgency=low

  * Check for */ad/ldap/ssl before creating the new CA file
    (Bug #19372)

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 27 Sep 2010 07:13:49 +0200

univention-ad-connector (5.0.7-3) unstable; urgency=low

  * Windows 2000 AD does not understand StartTLS over the ldap port. To
    use an encrypted connection to the Windows 2000 AD the following (new)
    UCR variables must be set connector/ad/ldap/ldaps=yes and
    connector/ad/ldap/port=636. Alternatively can the Windows version be
    set to 2000 in the UMC module (Bug #19606)

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 24 Sep 2010 10:58:27 +0200

univention-ad-connector (5.0.7-2) unstable; urgency=low

  * new package definition univention-s4-connector for future use (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 24 Sep 2010 13:46:40 +0200

univention-ad-connector (5.0.7-1) unstable; urgency=low

  * fork of tags/release-ucs-2.4-0 for samba4 scope (Bug #17214)

 -- Arvid Requate <requate@univention.de>  Fri, 10 Sep 2010 17:25:14 +0200

univention-ad-connector (5.0.6-1) unstable; urgency=low

  * Added a link to vcredist_x86.exe in the www directory (Bug #15651)

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 19 Aug 2010 13:42:31 +0200

univention-ad-connector (5.0.5-3) unstable; urgency=low

  * Added vcredist_x86.exe (Bug #15651)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 17 Aug 2010 19:30:02 +0200

univention-ad-connector (5.0.5-2) unstable; urgency=low

  * added MSVCR100.DLL from Visual C++ 2010 redistribution package,
    vcredist_x86.exe. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 11 Aug 2010 06:56:58 +0200

univention-ad-connector (5.0.5-1) unstable; urgency=low

  * remove .svn directories from msi packages. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 28 Jul 2010 14:51:22 +0200

univention-ad-connector (5.0.4-1) unstable; urgency=low

  * update msi packages to use correct installation path. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 08:19:43 +0200

univention-ad-connector (5.0.3-2) unstable; urgency=low

  * offer the 64bit msi package. Bug #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 08:01:20 +0200

univention-ad-connector (5.0.3-1) unstable; urgency=low

  * create umc link to the 64bit version of the password daemon. Bug
    #15651

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 07:50:03 +0200

univention-ad-connector (5.0.2-1) unstable; urgency=low

  * added support for windows 64bit plattform. Bug #15651
  * switch to makemsi:
    https://billy.knut.univention.de/uniwiki/index.php/AD_Connector_Entwicklungsumgebung#MSI-Pakete

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 26 Jul 2010 07:39:28 +0200

univention-ad-connector (5.0.1-1) unstable; urgency=low

  * convert to GNU APGL V3 (Bug #17543)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Tue, 22 Jun 2010 15:53:22 +0200

univention-ad-connector (5.0.0-1) unstable; urgency=low

  * bump version for UCS 2.4
  * added cn=opsi,$ldap_base to global_ignore_subtree
  * added pcpatch to user ignore_filter Bug #17756

 -- Felix Botner <botner@univention.de>  Thu, 10 Jun 2010 17:18:41 +0200

univention-ad-connector (4.1.14-1) unstable; urgency=low

  * also use the new CAcert file which contains the UCS CA and the AD CA
    for univention-connector-list-rejected. Bug #18242

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 04 May 2010 08:38:20 +0200

univention-ad-connector (4.1.13-1) unstable; urgency=low

  * remove calls to old univention-debug methods (Bug #13053)

 -- Janek Walkenhorst <walkenhorst@univention.de>  Tue, 06 Apr 2010 16:27:43 +0200

univention-ad-connector (4.1.12-1) unstable; urgency=low

  * replace os.system with subprocess.call in UMC module; Bug #17045

 -- Andreas Büsching <buesching@univention.de>  Tue, 30 Mar 2010 13:49:59 +0200

univention-ad-connector (4.1.11-1) unstable; urgency=low

  * be sure univention-adsearch uses an encrypted communication. Bug
    #17768

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 02 Mar 2010 19:58:38 +0100

univention-ad-connector (4.1.10-1) unstable; urgency=low

  * create a new CAcert file, which contains the UCS CA and the AD CA.
    Bug #17768

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 01 Mar 2010 16:26:50 +0100

univention-ad-connector (4.1.9-1) unstable; urgency=low

  * fixed ad-connector umc service configuration Bug #17311 

 -- Felix Botner <botner@univention.de>  Fri, 15 Jan 2010 12:21:25 +0100

univention-ad-connector (4.1.8-1) unstable; urgency=low

  * design updates for the AD Connector UMC module. Bug #16808

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 13 Jan 2010 09:17:20 +0100

univention-ad-connector (4.1.7-1) unstable; urgency=low

  * added ad-connector umc service configuration Bug #17311

 -- Felix Botner <botner@univention.de>  Tue, 12 Jan 2010 16:31:14 +0100

univention-ad-connector (4.1.6-1) unstable; urgency=low

  * use ldap:// as prefix for LDAP URIs and set CA certificate file via
    global option (Bug #16432)

 -- Andreas Büsching <buesching@univention.de>  Thu, 07 Jan 2010 17:34:28 +0100

univention-ad-connector (4.1.5-1) unstable; urgency=low

  * updated copyright Bug #17222 

 -- Felix Botner <botner@univention.de>  Thu, 07 Jan 2010 13:47:52 +0100

univention-ad-connector (4.1.4-1) unstable; urgency=low

  * exit earlier if new object is ignored (Bug #16734)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 17 Dec 2009 12:42:29 +0100

univention-ad-connector (4.1.3-1) unstable; urgency=low

  * pass default value to ucr-get-call. (Bug #16638)

 -- Daniel Hofmann <hofmann@univention.de>  Thu, 17 Dec 2009 12:29:38 +0100

univention-ad-connector (4.1.2-1) unstable; urgency=low

  * use the correct pyshared path. Bug #16054

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 22 Oct 2009 11:40:31 +0200

univention-ad-connector (4.1.1-1) unstable; urgency=low

  * if the connection to the LDAP-Server is lost the connector tries to
    re-establish the connection (Bug #14724)

 -- Andreas Büsching <buesching@univention.de>  Tue, 20 Oct 2009 16:15:34 +0200

univention-ad-connector (4.1.0-4) unstable; urgency=low

  * corrected recreation of mapping in prepare-instance
  * fixed typo in prepare-instance

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 14:49:11 +0200

univention-ad-connector (4.1.0-3) unstable; urgency=low

  * use connector/ad/ldap/ssl in univention-adsearch, use ssl by default (Bug #14826)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 08:34:14 +0200

univention-ad-connector (4.1.0-2) unstable; urgency=low

  * Add Univention Configuration Registry variable connector/ad/ldap/ssl, which configures
    an unencrypted operation to the Active Directory domain controller. (Bug #14807)

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 20 Aug 2009 08:07:46 +0200

univention-ad-connector (4.1.0-1) unstable; urgency=low

  * extend connector to run in several instances on one server (Bug #15415)

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Aug 2009 10:44:53 +0200

univention-ad-connector (4.0.18-1) unstable; urgency=low

  * consider the ignore_filter of the user mapping during the membership
    synchronisation. Bug #13550

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 31 Jul 2009 09:23:09 +0200

univention-ad-connector (4.0.17-1) unstable; urgency=low

  * be sure a user will be deleted in AD after moving the user on UCS
    side into a ignored subtree. Bug #13786

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 31 Jul 2009 07:41:11 +0200

univention-ad-connector (4.0.16-1) unstable; urgency=low

  * read the pickle files from the listener in the correct order. Bug
    #11803
  * catch some more possible expetions during the group member sync for
    example if the user was removed in the meantime. Bug #11803

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 28 Jul 2009 15:48:57 +0200

univention-ad-connector (4.0.15-2) unstable; urgency=low

  * Fixed upper- and lowercase problems in the attribute_filter
    function. Bug #13550

 -- Andre Fenske <fenske@univention.de>  Mon, 13 Jul 2009 16:10:08 +0200

univention-ad-connector (4.0.15-1) unstable; urgency=low

  * the ldap ignore filter should be case insensitive. Bug #13550

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 13:38:46 +0200

univention-ad-connector (4.0.14-1) unstable; urgency=low

  * open the ucs object before removing it. Bug #14062

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 11:53:58 +0200

univention-ad-connector (4.0.13-1) unstable; urgency=low

  * don't replace the UCS base with the AD base twice. This is a problem
    when the UCS base is a component of the AD base. Bug #13745

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 10 Jul 2009 09:29:35 +0200

univention-ad-connector (4.0.12-1) unstable; urgency=low

  * rename an object in AD only if it exists in AD otherwise the user
    will be created. This happens when an object is moved in UCS from an
    ignored subtree into a normal area. Bug #11032

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  9 Jul 2009 14:20:11 +0200

univention-ad-connector (4.0.11-1) unstable; urgency=low

  * provide new UCR category service-adcon (Bug #13505)

 -- Andreas Büsching <buesching@univention.de>  Wed,  8 Jul 2009 10:00:21 +0200

univention-ad-connector (4.0.10-1) unstable; urgency=low

  * suppport for Windows 2008. Bug #11701

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  2 Jul 2009 10:27:06 +0200

univention-ad-connector (4.0.9-1) unstable; urgency=low

  * added the groups which have a nested group by default to the ignore
    filter:
     - Computers
     - Windows Hosts
     - DC Slave Hosts
     - DC Backup Hosts
    Bug #11816

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 30 Jun 2009 08:40:33 +0200

univention-ad-connector (4.0.8-1) unstable; urgency=low

  * keep the correct lower and upper case during a move in AD. Bug
    #13824

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 30 Jun 2009 08:29:31 +0200

univention-ad-connector (4.0.7-1) unstable; urgency=low

  * don't remove ignored object from the list of the memberships. Bug
    #13550

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 09:41:16 +0200

univention-ad-connector (4.0.7-1) unstable; urgency=low

  * catch some tracebacks during the remove on UCS side. Bug #11810

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 08:40:44 +0200

univention-ad-connector (4.0.6-1) unstable; urgency=low

  * consider a move in UCS. Bug #13745

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 29 Jun 2009 08:20:03 +0200

univention-ad-connector (4.0.5-1) unstable; urgency=low

  * support operations on non-leaf objects. Bug #13803

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Jun 2009 20:46:11 +0200

univention-ad-connector (4.0.4-1) unstable; urgency=low

  * outvalue the ignore filters during the sync. Bug #11027

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 26 Jun 2009 11:01:42 +0200

univention-ad-connector (4.0.3-1) unstable; urgency=low

  * remove the POSIX (shadowLastChange and shadowMax) and Kerberos
    (shadowMax) attributes for the password expiration during the
    password reset. Bug #10190

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Jun 2009 14:55:35 +0200

univention-ad-connector (4.0.2-1) unstable; urgency=low

  * The copypwd utility on windows needs the username as iso8859 string.
    Starting from now the encoding could be configured with the UCR
    variable connector/password/service/encoding. Default is iso8859-15.
    Bug #8516

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 25 Jun 2009 11:51:45 +0200

univention-ad-connector (4.0.1-2) unstable; urgency=low

  * switched to python2.4 (Bug: #14709)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 11 Jun 2009 12:14:02 +0200

univention-ad-connector (4.0.1-1) unstable; urgency=low

  * install to /usr/share/pyshared for dh_pycentral. Bug #14667

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 11 Jun 2009 13:29:53 +0200

univention-ad-connector (4.0.0-1) unstable; urgency=low

  * Make init script LSB-compliant (Bug #14421)

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Fri, 29 May 2009 14:59:38 +0200

univention-ad-connector (3.0.5-1) unstable; urgency=low

  * fixed detection if online update is currently running (Bug: #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Mon, 16 Mar 2009 09:05:34 +0100

univention-ad-connector (3.0.4-3) unstable; urgency=low

  * updated the copyright. Bug #6875

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 12 Mar 2009 13:47:37 +0100

univention-ad-connector (3.0.4-2) unstable; urgency=low

  * fixed bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Fri, 20 Feb 2009 11:08:38 +0100

univention-ad-connector (3.0.3-1) unstable; urgency=low

  * corrected help-message of univention-adsearch
  * added containers to global_ignore_subtree in mapping.py:
     'cn=samba,@%@ldap/base@%@',
     'cn=nagios,@%@ldap/base@%@',
     'ou=Grp Policy Users,@%@connector/ad/ldap/base@%@'
  * fix potential traceback in group_members_sync_to_ucs

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 20 Feb 2009 09:45:32 +0100

univention-ad-connector (3.0.2-2) unstable; urgency=low

  * fixed translation bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 19 Feb 2009 14:00:37 +0100

univention-ad-connector (3.0.2-1) unstable; urgency=low

  * fixed translation bugs in UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 19 Feb 2009 13:32:35 +0100

univention-ad-connector (3.0.1-1) unstable; urgency=low

  * rebuild for UCS 2.2
  * changed copyright year. Bug #6875

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 19 Feb 2009 08:14:06 +0100

univention-ad-connector (2.0.5-2) unstable; urgency=low

  * fixed translation string (Bug #8736)
  * added missing images (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Tue, 10 Feb 2009 16:03:49 +0100

univention-ad-connector (2.0.5-1) unstable; urgency=low

  * fixed layout of UMC module (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 29 Jan 2009 12:30:43 +0100

univention-ad-connector (2.0.4-4) unstable; urgency=low

  * fixed translation bug for StaticSelection widgets (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 22 Jan 2009 10:06:09 +0100

univention-ad-connector (2.0.4-3) unstable; urgency=low

  * removed unused debug output (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 18:37:57 +0100

univention-ad-connector (2.0.4-2) unstable; urgency=low

  * added missing file (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 18:00:36 +0100

univention-ad-connector (2.0.4-1) unstable; urgency=low

  * added UMC module for AD connector configuration (Bug #8736)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 21 Jan 2009 17:50:27 +0100

univention-ad-connector (2.0.3-2) unstable; urgency=low

  * don't catch SystemExit Exceptions in main.py

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 12 Jan 2009 07:57:55 +0100

univention-ad-connector (2.0.3-1) unstable; urgency=low

  * don't catch SystemExit Exceptions

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 29 Dec 2008 07:46:48 +0100

univention-ad-connector (2.0.2-3) unstable; urgency=low

  * added additional "import" line (Bug: #9715)

 -- Sönke Schwardt <schwardt@univention.de>  Wed, 24 Sep 2008 13:25:04 +0200

univention-ad-connector (2.0.2-2) unstable; urgency=low

  * disable debug line in connector/__init__.py (Bug: #12031)

 -- Felix Botner <fbotner@visdalen.knut.univention.de>  Tue, 23 Sep 2008 18:41:44 +0200

univention-ad-connector (2.0.2-1) unstable; urgency=low

  * import univention.debug2 instead of univention.debug (Bug: #9715)

 -- Sönke Schwardt <schwardt@univention.de>  Mon, 22 Sep 2008 10:47:21 +0200

univention-ad-connector (2.0.1-1) unstable; urgency=low

  * use python-univention-connector-ad as a pre dependency of
    univention-ad-connector

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 24 Jul 2008 15:41:07 +0200

univention-ad-connector (2.0.0-2) unstable; urgency=low

  * description-workaround (sync empty descriptions as "x") is only needed for w2k

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 18 Jul 2008 08:21:18 +0200

univention-ad-connector (2.0.0-1) unstable; urgency=low

  * replace univention-baseconfig with univention-config-registry
  * add config registry variable-descriptions
  * add config-registry variable connector/ad/mapping/syncmode with default "sync"
  * add config-registry variable connector/ad/mapping/group/language with default "de"
  * implement additional group-membership-functionality for sync of "groups in groups" from ucs to ad
  * fix group membership synchronisation if user is synced later than his groups
  * fix failure if object is moved from an ignored container into a synced one
  * include global_ignore_subtree in ou mapping
  * add config-registry variable connector/ad/mapping/group/exchange in exchange-package

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 28 Apr 2008 15:12:02 +0200

univention-ad-connector (1.2.3-1) unstable; urgency=low

  * fix synchronisation of groups with hosts as member in UCS
 -- Ingo Steuwer <steuwer@univention.de>  Wed, 23 Apr 2008 10:50:18 +0200

univention-ad-connector (1.2.3) unstable; urgency=low

  * seperated search for uSNCreated and uSNChanged during poll
  * sync group memberships ("memberOf") after syncing users and groups

 -- Ingo Steuwer <steuwer@univention.de>  Mon, 21 Apr 2008 16:54:54 +0200

univention-ad-connector (1.2.2-10) unstable; urgency=low

  * don't try to get GUID manually for deleted objects if it is already given

 -- Ingo Steuwer <steuwer@univention.de>  Wed, 19 Mar 2008 09:36:11 +0100

univention-ad-connector (1.2.2-9) unstable; urgency=low

  * don't send GUID to univention-debug

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Mar 2008 15:25:17 +0100

univention-ad-connector (1.2.2-8) unstable; urgency=low

  * write tracebacks without univention-debug to /var/log/univention/connector-tracebacks.log

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Mar 2008 09:32:46 +0100

univention-ad-connector (1.2.2-7) unstable; urgency=low

  * add differentiation for users and groups in group-memberships
  * use functions from python-ldap to explode DNs
  * detect rename of OU/CN as modification instead of a move

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 13 Mar 2008 16:36:04 +0100

univention-ad-connector (1.2.2-6) unstable; urgency=low

  * remove extra filter-mapping for object-deletion

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 16 Nov 2007 08:21:42 +0100

univention-ad-connector (1.2.2-5) unstable; urgency=low

  * Add alternative univention-baseconfig depends to allow upgrades

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Mon, 12 Nov 2007 15:35:22 +0100

univention-ad-connector (1.2.2-4) unstable; urgency=low

  * add Error-handling during object-mapping

 -- Ingo Steuwer <steuwer@univention.de>  Thu,  8 Nov 2007 11:57:42 +0100

univention-ad-connector (1.2.2-3) unstable; urgency=low

  * import LDAPControl from ldap.controls

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 10 Oct 2007 14:14:30 +0200

univention-ad-connector (1.2.2-2) unstable; urgency=low

  * fixed logfile permissions

 -- Sönke Schwardt <schwardt@univention.de>  Thu, 27 Sep 2007 15:26:55 +0200

univention-ad-connector (1.2.2-1) unstable; urgency=low

  * use the new python-ldap control interface

 -- Stefan Gohmann <gohmann@univention.de>  Thu, 20 Sep 2007 11:54:07 +0200

univention-ad-connector (1.1.2-2) unstable; urgency=low

  * more ucs 2.0 updates

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 19 Sep 2007 10:39:27 +0200

univention-ad-connector (1.1.1-5) unstable; urgency=low

  * install python files into the univention/connector dir

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 13 Aug 2007 21:18:23 +0200

univention-ad-connector (1.1.1-4) unstable; urgency=low

  * Bump version.

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Wed,  8 Aug 2007 11:29:39 +0200

univention-ad-connector (1.1.1-3) unstable; urgency=low

  * Adapt to Univention Directory Listener.

 -- Moritz Muehlenhoff <muehlenhoff@univention.de>  Wed,  8 Aug 2007 11:28:02 +0200

univention-ad-connector (1.1.1-2) unstable; urgency=low

  * more wording change univention-config-registry and univention-
    baseconfig

 -- Stefan Gohmann <gohmann@univention.de>  Fri,  3 Aug 2007 09:45:37 +0200

univention-ad-connector (1.1.1-1) unstable; urgency=low

  * don't delete a object on ucs site if the object should be ignored
    (match_filter)

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Jul 2007 11:16:41 +0200

univention-ad-connector (1.1.0-1) unstable; urgency=low

  * support Windows 2000, applied patches from the management scope
  * fix dependencies

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 24 Jul 2007 10:15:46 +0200

univention-ad-connector (1.0.0-2) unstable; urgency=low

  * encoded files utf-8

 -- Janis Meybohm <meybohm@univention.de>  Wed, 13 Jun 2007 16:09:48 +0200

univention-ad-connector (1.0.0-1) unstable; urgency=low

  * update to ucs 2.0 policies

 -- Stefan Gohmann <gohmann@univention.de>  Mon, 21 May 2007 17:01:17 +0200

univention-ad-connector (0.3-26) unstable; urgency=low

  * the old copypwd process breaks the lsass.exe process under windows 2003
  sp1. The new package fixes this behaviour

 -- Stefan Gohmann <gohmann@univention.de>  Thu,  8 Mar 2007 13:41:43 +0100

univention-ad-connector (0.3-25) unstable; urgency=low

  * some more code cleanup

 -- Stefan Gohmann <gohmann@univention.de>  Wed, 22 Nov 2006 08:08:39 +0100

univention-ad-connector (0.3-16) unstable; urgency=low

  * unset the ucs attribute if the attribute was removed on ad side

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 21 Nov 2006 13:50:29 +0100

univention-ad-connector (0.3-15) unstable; urgency=low

  * some code cleanup

 -- Stefan Gohmann <gohmann@univention.de>  Tue, 14 Nov 2006 20:31:56 +0100

univention-ad-connector (0.3-14) unstable; urgency=low

  * sync the group membership from UCS to AD

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 27 Oct 2006 14:24:46 +0200

univention-ad-connector (0.3-13) unstable; urgency=low

  * ignore the deleted object if the lastKnownAttribute is not set

 -- Stefan Gohmann <gohmann@univention.de>  Mon,  2 Oct 2006 16:51:55 +0200

univention-ad-connector (0.3-12) unstable; urgency=low

  * Only remove cache when updating from 1.3-1.

 -- Martin Kuehl <kuehl@univention.de>  Thu,  7 Sep 2006 12:53:46 +0200

univention-ad-connector (0.3-11) unstable; urgency=low

  * Remove baseconfig cache at end of postinstall.

 -- Martin Kuehl <kuehl@univention.de>  Thu,  7 Sep 2006 11:33:47 +0200

univention-ad-connector (0.3-10) unstable; urgency=low

  * added a pre dependency to univention-baseconfig with api change

 -- Stefan Gohmann <gohmann@univention.de>  Fri, 11 Aug 2006 11:48:52 +0200

univention-ad-connector (0.3-9) unstable; urgency=low

  * migrate baseconfig handler to python module

 -- Martin Kuehl <kuehl@univention.de>  Wed, 17 May 2006 10:07:05 +0200

univention-ad-connector (0.3-8) unstable; urgency=low

  * additional Exchange-Mappings for groups to be found in global addressbook

 -- Ingo Steuwer <steuwer@univention.de>  Fri, 12 May 2006 11:32:02 +0200

univention-ad-connector (0.3-7) unstable; urgency=low

  * ignore special encoded Exchange-attributes
  * extend mapping.py by optional custom-attributes for Exchange-Sync
  * introduce package univention-ad-connector-exchange with
    - schema-definitions for exchange-parameters to be stored in UCS
    - custom-attributes for those extension
    - enable sync of attributes by univention-baseconfig

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 18 Apr 2006 08:53:16 +0200

univention-ad-connector (0.3-2) unstable; urgency=low

  * add optional mail-attribute mappings
  * fixed sync of custom attributes

 -- Ingo Steuwer <steuwer@univention.de>  Wed, 12 Apr 2006 14:27:35 +0200

univention-ad-connector (0.3-1) unstable; urgency=low

  * support identical LDAP-Base for UCS and AD
  * ignore mail-subcontainer
  * start connector after installation

 -- Ingo Steuwer <steuwer@univention.de>  Fri,  7 Apr 2006 15:36:28 +0200

univention-ad-connector (0.2-4) unstable; urgency=low

  * automatically create links to init script to the various runlevels

 -- Wolf Wiegand <wolf@anton.knut.univention.de>  Wed, 15 Mar 2006 17:22:55 +0100

univention-ad-connector (0.2-3) unstable; urgency=low

  * don't follow ldap-referrals for AD-connections (may loose credentials)
  * encoding-changes correlating with new python2.4-behavior

 -- Ingo Steuwer <steuwer@univention.de>  Tue,  8 Nov 2005 15:42:02 +0100

univention-ad-connector (0.1-4) unstable; urgency=low

  * Switch to python 2.4

 -- Alexander Reelsen <reelsen@univention.de>  Mon, 19 Sep 2005 11:28:40 +0200

univention-ad-connector (0.1-3) unstable; urgency=low

  * reimplemented internal.cfg
  * bugfixes in encoding and ldap.explode

 -- Ingo Steuwer <steuwer@univention.de>  Tue, 30 Aug 2005 09:00:07 +0200

univention-ad-connector (0.1-2) unstable; urgency=low

  * bugfixes after first beta-test
  * restart sync after stopped slapd in all cases
  * better filter-handling (case-insensitive with attributes)
  * registered baseconfig-values in univention-console

 -- Ingo Steuwer <steuwer@univention.de>  Thu, 11 Aug 2005 08:40:27 +0200

univention-ad-connector (0.1-1) unstable; urgency=low

  * initial release

 -- Stefan Gohmann <gohmann@univention.de>  Mon,  3 Jan 2005 15:40:07 +0100

